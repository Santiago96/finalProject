DROP TABLE IF EXISTS airline;
DROP TABLE IF EXISTS flight;
DROP TABLE IF EXISTS person;
DROP TABLE IF EXISTS flight_person;
CREATE TABLE airline (
  id INT AUTO_INCREMENT  PRIMARY KEY,
  name VARCHAR(250) NOT NULL
);

CREATE TABLE person(
  num_document varchar(40) PRIMARY KEY,
  name varchar (50) NOT NULL,
  last_name varchar(50) NOT NULL,
  nationality varchar(2) NOT NULL,
  phone_number varchar(15) NOT NULL,
  mail varchar(80) NOT NULL,
  date_born date NOT NULL
);

CREATE TABLE flight(
  id INT AUTO_INCREMENT PRIMARY KEY,
  origin varchar(100) NOT NULL,
  destiny varchar(100) NOT NULL,
  airline_id INT NOT NULL,
  departure timestamp NOT NULL,
  seat varchar(3) NOT NULL,
  CONSTRAINT FK_AIRLINE FOREIGN KEY (airline_id) REFERENCES airline(id)
);

CREATE TABLE flight_person(
    flight_id INT NOT NULL,
    person_id varchar(40) NOT NULL,
    assigned_seat varchar(3) NOT NULL,
    comment varchar(300),
    CONSTRAINT PK_FLIGHT_PERSON PRIMARY KEY(flight_id,person_id,assigned_seat),
    CONSTRAINT FK_FLIGHT FOREIGN KEY(flight_id) references  flight(id),
    CONSTRAINT FK_PERSON FOREIGN KEY(person_id) references  person(num_document)
);

                                                 
INSERT INTO AIRLINE(ID,NAME) VALUES(NULL,'KLM');
INSERT INTO AIRLINE(ID,NAME) VALUES(NULL,'AVIANCA');
INSERT INTO AIRLINE(ID,NAME) VALUES(NULL,'IBERIA');
INSERT INTO AIRLINE(ID,NAME) VALUES(NULL,'AMERICAN AIRLINES');
INSERT INTO AIRLINE(ID,NAME) VALUES(NULL,'EMIRATES');
INSERT INTO AIRLINE(ID,NAME) VALUES(NULL,'QATAR AIRWAYS');

INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Bogota','Amsterdam',1,'2019-08-21 14:40:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Curacao','Amsterdam',1,'2019-08-22 07:30:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Amsterdam','Moscu',1,'2019-08-23 10:15:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Amsterdam','Barcelona',1,'2019-08-24 15:20:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Bogota','Barranquilla',2,'2019-08-21 05:40:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Bogota','Medellin',2,'2019-08-22 07:10:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Bogota','Cali',2,'2019-08-23 11:30:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Bogota','Cartagena',2,'2019-08-24 19:20:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Bogota','Madrid',3,'2019-08-11 14:30:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Bogota','Barcelona',3,'2019-08-12 09:20:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Sevilla','Madrid',3,'2019-08-13 13:45:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Madrid','Bilbao',3,'2019-08-14 11:30:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Ney York','Londres',4,'2019-08-21 08:10:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Chicago','Ney York',4,'2019-08-22 12:30:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Washington','Roma',4,'2019-08-23 16:20:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Dallas','Los Angeles',4,'2019-08-24 20:00:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Roma','El Cairo',5,'2019-08-7 21:00:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Dubai','Tokio',5,'2019-08-8 08:10:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Berlin','Dubai',5,'2019-08-9 06:20:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Bogota','Amsterdam',5,'2019-08-10 07:50:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Qatar','Dubai',6,'2019-08-13 05:20:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'New Delhi','Madrid',6,'2019-08-14 13:20:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Shanghai','Beijing',6,'2019-08-15 16:50:00','150');
INSERT INTO FLIGHT(ID,ORIGIN,DESTINY,AIRLINE_ID,DEPARTURE,SEAT) VALUES (NULL,'Hong Kong','Singapore',6,'2019-08-16 15:30:00','150');


INSERT INTO PERSON(NUM_DOCUMENT,NAME,LAST_NAME,NATIONALITY,PHONE_NUMBER,MAIL,DATE_BORN) VALUES ('1018485092','Santiago','Collazos Barrera','CO','3125771752','santicollazosbarrera@hotmail.com','1996-04-28');
INSERT INTO PERSON(NUM_DOCUMENT,NAME,LAST_NAME,NATIONALITY,PHONE_NUMBER,MAIL,DATE_BORN) VALUES ('1016065965','Julian David','Collazos Barrera','CO','3202041384','juliandavidud@hotmail.com','1994-05-17');

INSERT INTO FLIGHT_PERSON(FLIGHT_ID,PERSON_ID,ASSIGNED_SEAT,COMMENT) VALUES (1,'1018485092',22, 'Asistencia con el equipaje');
INSERT INTO FLIGHT_PERSON(FLIGHT_ID,PERSON_ID,ASSIGNED_SEAT,COMMENT) VALUES (1,'1016065965',23, 'Asistencia con silla de ruedas');